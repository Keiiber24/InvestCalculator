<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
</head>
<body class="bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white transition-colors duration-300">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold mb-8 text-center">Trading Calculator</h1>
        
        <div class="flex justify-end mb-4">
            <label for="theme-toggle" class="flex items-center cursor-pointer">
                <div class="relative">
                    <input type="checkbox" id="theme-toggle" class="sr-only">
                    <div class="block bg-gray-600 w-14 h-8 rounded-full"></div>
                    <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
                </div>
                <div class="ml-3 text-gray-700 dark:text-gray-300 font-medium">
                    Dark Mode
                </div>
            </label>
        </div>

        <form id="calculator-form" class="bg-white dark:bg-gray-700 shadow-md rounded px-8 pt-6 pb-8 mb-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2" for="capitalTotal">
                        Capital Total
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-600 dark:text-white" id="capitalTotal" name="capitalTotal" type="number" step="0.01" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your total trading capital">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2" for="baseCurrency">
                        Base Currency
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-600 dark:text-white" id="baseCurrency" name="baseCurrency" type="text" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter the base currency (e.g., USD, EUR)">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2" for="riskPercentage">
                        Risk Percentage
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-600 dark:text-white" id="riskPercentage" name="riskPercentage" type="number" step="0.01" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter the percentage of capital you're willing to risk">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2" for="entryPrice">
                        Entry Price
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-600 dark:text-white" id="entryPrice" name="entryPrice" type="number" step="0.01" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your planned entry price">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2" for="exitPrice">
                        Exit/Stop Loss Price
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-600 dark:text-white" id="exitPrice" name="exitPrice" type="number" step="0.01" required data-bs-toggle="tooltip" data-bs-placement="top" title="Enter your planned exit or stop loss price">
                </div>
            </div>
            <div class="flex items-center justify-center mt-4">
                <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                    Calculate
                </button>
            </div>
        </form>

        <div id="result" class="bg-white dark:bg-gray-700 shadow-md rounded px-8 pt-6 pb-8 mb-4"></div>

        <div class="bg-white dark:bg-gray-700 shadow-md rounded px-8 pt-6 pb-8 mb-4">
            <canvas id="risk-chart"></canvas>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
